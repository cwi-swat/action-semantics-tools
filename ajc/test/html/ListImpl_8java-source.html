<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>ListImpl.java Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.8.1 -->
<center>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="packages.html">Packages</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; </center>
<hr><h1>ListImpl.java</h1><a href="ListImpl_8java.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 
00002 package ajc.data.pure;
00003 
00004 import ajc.*;
00005 import ajc.data.*;
00006 
<a name="l00007"></a><a class="code" href="classListImpl.html">00007</a> <font class="keyword">class </font><a class="code" href="classListImpl.html">ListImpl</a> extends <a class="code" href="classDatumImpl.html">DatumImpl</a> implements <a class="code" href="interfaceList.html">List</a> {
<a name="l00008"></a><a class="code" href="classListImpl.html#r0">00008</a>     <font class="keyword">private</font> <font class="keyword">static</font> <a class="code" href="interfaceList.html">List</a> _empty;
00009 
<a name="l00010"></a><a class="code" href="classListImpl.html#o0">00010</a>     <font class="keyword">private</font> <a class="code" href="interfaceDataValue.html">DataValue</a> _head;
<a name="l00011"></a><a class="code" href="classListImpl.html#o1">00011</a>     <font class="keyword">private</font> <a class="code" href="interfaceList.html">List</a> _tail;
00012 
<a name="l00013"></a><a class="code" href="classListImpl.html#f0">00013</a>     <font class="keyword">static</font> <font class="keywordtype">void</font> init(<a class="code" href="classPureFactory.html">PureFactory</a> factory)<font class="keyword"> </font>{
00014         _empty = <font class="keyword">new</font> ListImpl(factory);
00015     }
00016 
<a name="l00017"></a><a class="code" href="classListImpl.html#f1">00017</a>     <font class="keyword">static</font> <a class="code" href="interfaceList.html">List</a> empty()<font class="keyword"> </font>{
00018         <font class="keywordflow">return</font> _empty;
00019     }
00020 
<a name="l00021"></a><a class="code" href="classListImpl.html#c0">00021</a>     <font class="keyword">private</font> ListImpl(<a class="code" href="classPureFactory.html">PureFactory</a> factory)<font class="keyword"> </font>{
00022         <font class="keyword">this</font>(factory, null, null);
00023     }
00024 
<a name="l00025"></a><a class="code" href="classListImpl.html#c1">00025</a>     ListImpl(<a class="code" href="classPureFactory.html">PureFactory</a> factory, <a class="code" href="interfaceDataValue.html">DataValue</a> head)<font class="keyword"> </font>{
00026         <font class="keyword">this</font>(factory, head, _empty);
00027     }
00028 
<a name="l00029"></a><a class="code" href="classListImpl.html#c2">00029</a>     ListImpl(<a class="code" href="classPureFactory.html">PureFactory</a> factory, <a class="code" href="interfaceDataValue.html">DataValue</a> head, <a class="code" href="interfaceList.html">List</a> tail)<font class="keyword"> </font>{
00030         super(factory);
00031         _head = head;
00032         _tail = tail;
00033     }
00034 
00035 
<a name="l00036"></a><a class="code" href="classListImpl.html#a0">00036</a>     <font class="keyword">public</font> <a class="code" href="interfaceDataValue.html">DataValue</a> <a class="code" href="interfaceList.html#a0">head</a>() throws <a class="code" href="classExceptional.html">Exceptional</a> {
00037         <font class="keywordflow">if</font> (<font class="keyword">this</font> == _empty)
00038             <font class="keywordflow">throw</font> <font class="keyword">new</font> Exceptional(factory.<a class="code" href="classPureFactory.html#a10">makeEmpty</a>());
00039         <font class="keywordflow">return</font> _head;
00040     }
00041 
<a name="l00042"></a><a class="code" href="classListImpl.html#a1">00042</a>     <font class="keyword">public</font> <a class="code" href="interfaceList.html">List</a> <a class="code" href="interfaceList.html#a1">tail</a>()<font class="keyword"> </font>{
00043         <font class="keywordflow">return</font> _tail;
00044     }
00045 
<a name="l00046"></a><a class="code" href="classListImpl.html#a2">00046</a>     <font class="keyword">public</font> <a class="code" href="interfaceList.html">List</a> <a class="code" href="interfaceList.html#a2">insert</a>(<a class="code" href="interfaceDataValue.html">DataValue</a> dataValue)<font class="keyword"> </font>{
00047         <font class="keywordflow">return</font> <font class="keyword">new</font> ListImpl(factory, dataValue, <font class="keyword">new</font> ListImpl(factory, _head, _tail));
00048     }
00049 
<a name="l00050"></a><a class="code" href="classListImpl.html#a3">00050</a>     <font class="keyword">public</font> <a class="code" href="interfaceList.html">List</a> <a class="code" href="interfaceList.html#a3">append</a>(<a class="code" href="interfaceDataValue.html">DataValue</a> dataValue)<font class="keyword"> </font>{
00051         <font class="keywordflow">if</font> (<font class="keyword">this</font> == _empty) 
00052             <font class="keywordflow">return</font> <font class="keyword">new</font> ListImpl(factory, dataValue);
00053         <font class="keywordflow">return</font> <font class="keyword">new</font> ListImpl(factory, _head, _tail.<a class="code" href="interfaceList.html#a3">append</a>(dataValue));
00054     }
00055 
<a name="l00056"></a><a class="code" href="classListImpl.html#a4">00056</a>     <font class="keyword">public</font> <a class="code" href="interfaceList.html">List</a> <a class="code" href="interfaceList.html#a4">concat</a>(<a class="code" href="interfaceList.html">List</a> list)<font class="keyword"> </font>{
00057         <font class="keywordflow">if</font> (list == _empty) 
00058             <font class="keywordflow">return</font> <font class="keyword">this</font>;
00059         <font class="keywordflow">if</font> (<font class="keyword">this</font> == _empty)
00060             <font class="keywordflow">return</font> list;
00061         <font class="keywordflow">return</font> <font class="keyword">new</font> ListImpl(factory, _head, _tail.<a class="code" href="interfaceList.html#a4">concat</a>(list));
00062     }
00063 
<a name="l00064"></a><a class="code" href="classListImpl.html#a5">00064</a>     <font class="keyword">public</font> <a class="code" href="interfaceEmpty.html">Empty</a> <a class="code" href="interfaceDataValue.html#a0">equals</a>(<a class="code" href="interfaceData.html">Data</a> data) throws <a class="code" href="classExceptional.html">Exceptional</a> {
00065         <font class="keywordflow">if</font> (<font class="keyword">this</font> == data)
00066             <font class="keywordflow">return</font> factory.<a class="code" href="classPureFactory.html#a10">makeEmpty</a>();
00067         <font class="keywordflow">if</font> (data instanceof <a class="code" href="interfaceList.html">List</a>) {
00068             <font class="keywordflow">if</font> (_head.<a class="code" href="interfaceDataValue.html#a0">equals</a>(((<a class="code" href="interfaceList.html">List</a>)data).head()) == factory.<a class="code" href="classPureFactory.html#a10">makeEmpty</a>())
00069                 <font class="keywordflow">return</font> _tail.<a class="code" href="interfaceDataValue.html#a0">equals</a>(((<a class="code" href="interfaceList.html">List</a>)data).tail());
00070         }
00071         <font class="keywordflow">throw</font> <font class="keyword">new</font> Exceptional(factory.<a class="code" href="classPureFactory.html#a10">makeEmpty</a>());
00072     }
00073 }
</pre></div><hr><address><small>Generated at Thu Sep 12 20:07:44 2002 by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.8.1 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
