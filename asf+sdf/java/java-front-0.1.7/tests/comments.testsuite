TestSuite(
  Name("Comments")
, Sort("ClassDec")
, ParseTable(File("../grammar/basic/Java.tbl"))
, Tests(
  [ Test(Descr("basic end of line comment (1)")
    , File("comments/simple-1.java")
    , ClassDec([], "Simple", None, None, ClassBody([]))
    )
  , Test(Descr("basic end of line comment (2)")
    , File("comments/simple-2.java")
    , ClassDec([], "Simple", None, None, ClassBody([]))
    )
  , Test(Descr("basic long comment (1)")
    , String("class Test { /* */ }"), Success()
    )
  , Test(Descr("basic long comment (2)")
    , String("class Test {/* */}"), Success()
    )
  , Test(Descr("/* anything */ is a comment (1)")
    , String("class T371 { /* / * // * / exit */ }")
    , ClassDec([], "T371", None, None, ClassBody([]))
    )
  , Test(Descr("/* anything */ is a comment (2)")
    , String("class T371 { /* / * // * / exit */}"), Success()
    )
  , Test(Descr("/* */ comment can span multiple lines")
    , File("comments/T372.java")
    , ClassDec([], "T372", None, None, ClassBody([]))
    )
  , Test(Descr("// comment inside /* */ comment is ignored")
    , File("comments/T373.java")
    , ClassDec([], "T373", None, None, ClassBody([]))
    )
  , Test(Descr("// comment inside // comment is ignored")
    , File("comments/T374.java")
    , ClassDec([], "T374", None, None, ClassBody([]))
    )
  , Test(Descr("/* */ comment inside // comment is ignored")
    , File("comments/T375.java")
    , ClassDec([], "T375", None, None, ClassBody([]))
    )
  , Test(Descr("/* or // inside /* */ comment is ignored")
    , String("class T376 { /* comment /* // /* */}")
    , ClassDec([], "T376", None, None, ClassBody([]))
    )
  , Test(Descr("/* or // inside /** */ comment is ignored")
    , String("class T377 { /** comment /* // /* */}")
    , ClassDec([], "T377", None, None, ClassBody([]))
    )
  , Test(Descr("/**/ is a documentation comment")
    , String("class T378 { /**/}")
    , ClassDec([], "T378", None, None, ClassBody([]))
    )
  , Test(Descr("// comment separates tokens")
    , File("comments/T379.java"), Success()
    )
  , Test(Descr("/**/ comment separates tokens")
    , String("class T3710 {int/* */i;}"), Success()
    )
  , Test(Descr("// comment cannot appear in literal")
    , File("comments/T3711.java"), Failure()
    )
  , Test(Descr("/**/ comment cannot appear in literal")
    , String("class T3712 {float f = 1./* */0;}"), Failure()
    )
  , Test(Descr("// comment cannot appear in literal")
    , File("comments/T3713.java"), Failure()
    )
  , Test(Descr("/**/ comment cannot appear in literal")
    , String("class T3714 {char c = 'a/* */';}"), Failure()
    )
  , Test(Descr("/* must have matching */")
    , String("class T3715 {} /*"), Failure()
    )
  , Test(Descr("// may not end at EOF, only LineTerminator")
    , File("comments/T3716.java"), Failure()
    )
  , Test(Descr("*/ is not a comment, but an opening for /* */")
    , String("class T3726 { /*/}"), Failure()
    )
  , Test(Descr("/*/ is not a comment, but an opening for /* */")
    , String("class T3727 { /*/ */ }"), Success()
    )
  , Test(Descr("/** */ doc comments are legal, in spite of")
    , String("class T3728 { /** */ }"), Success()
    )
  , Test(Descr("/* */ comments don't nest")
    , String("class T3728 { /* /* */ */ }"), Failure()
    )
  , Test(Descr("/* */ comments don't nest in //")
    , File("comments/T3731.java"), Failure()
    )
  , Test(Descr("/** */ comment separates tokens")
    , String("class T3732 {int/** */i;}"), Success()
    )
  , Test(Descr("/** */ comment separates tokens")
    , String("class T3733 {float f = 1./** */0;}"), Failure()
    )
  , Test(Descr("/** */ comment cannot appear in literal")
    , String("class T3734 {char c = 'a/** */';}"), Failure()
    )
  , Test(Descr("/** must have matching */")
    , String("class T3735 {} /**"), Failure()
    )
  , Test(Descr("/* must have matching */")
    , String("class T3736 {} /* "), Failure()
    )
  , Test(Descr("/** must have matching */")
    , String("class T3737 {} /** "), Failure()
    )
  , Test(Descr("/* must have matching */")
    , String("class T3738 {} /* *"), Failure()
    )
  , Test(Descr("/** must have matching */")
    , String("class T3739 {} /** *"), Failure()
    )
  ])
)

